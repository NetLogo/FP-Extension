FPTake
  extensions [fp]
  fp:take 5 (range 10) => [0 1 2 3 4]
  fp:take 5 ["a" "b" "c" "d" "e" "f" "g" "h"] => ["a" "b" "c" "d" "e"]
  fp:take 5 ["a" "b" "c"] => ["a" "b" "c"]
  fp:take 0 ["a" "b" "c"] => []
  fp:take 5 [] => []
  fp:take 1.5 ["a" "b" "c"] => ["a"]

FPDrop
  extensions [fp]
  fp:drop 5 (range 10) => [5 6 7 8 9]
  fp:drop 5 ["a" "b" "c" "d" "e" "f" "g" "h"] => ["f" "g" "h"]
  fp:drop 5 ["a" "b" "c"] => []
  fp:drop 0 ["a" "b" "c"] => ["a" "b" "c"]
  fp:drop 5 [] => []

FPScan
  extensions [fp]
  fp:scan [[a b] -> a + b] [1 2 3 4 5] => [1 3 6 10 15]
  fp:scan [[a b] -> a * b] [1 2 3 4 5] => [1 2 6 24 120]
  fp:scan [[a b] -> a] [1 2 3 4 5] => [1 1 1 1 1]
  fp:scan + [1 2 3 4 5] => [1 3 6 10 15]
  
FPCompose
  extensions [fp]
  #fp:compose [x -> x * 2] [x -> x / 2] [3 7] => [3 7]
  #fp:compose [x -> x * 2] [x -> x + 2] [3 7] => [10 18]
  (runresult (fp:compose [x -> x * 2] [x -> x + 2]) 3) => 10
  (runresult (fp:compose [x -> x * 2] [x -> x + 2] [x -> x + 3]) 3) => 16
  (runresult (fp:compose abs abs [x -> x * (-2)]) 3) => 6
  (runresult (fp:compose abs +) -3 2) => 1
  (runresult (fp:compose [x -> first x] [x -> reverse x]) "abcde") => "e"
  (runresult (fp:compose first reverse) "abcde") => "e"
  #(runresult (fp:compose [x -> abs x] abs [[x y] -> x + y]) 3 2) => 5
  #(runresult (fp:compose [[x y] -> x * y * 2] [x -> x + 2]) 3) => 10

FPCurry
  extensions [fp]
  globals [f]
  to-report g [x y z] report x + y + z end
  O> set f (fp:curry g 1)
  (runresult f 2 3) => 6
  (runresult (fp:curry (fp:curry (fp:curry g 1) 2)) 3) => 6
  (runresult (fp:curry [x -> x + 1] 1)) => 2
  (runresult (fp:curry [x -> x + 1] 1 2)) => 2
  (runresult (fp:curry [[x y] -> x + y] 1 2)) => 3


FPFindIndices
  extensions [fp]
  fp:find-indices [x -> x < 3] [2] => [0]
  fp:find-indices [x -> x = 2] [1 2 1 2] => [1 3]
  fp:find-indices [x -> x < "b"] ["b" "a" "b" "c" "a"] => [1 4]
  fp:find-indices [x -> member? 2 x] [[1 0 3] [2 4 true] [1] [5 5 2]] => [1 3]

FPFind
  extensions [fp]
  fp:find [x -> x < 3] [2] => 2
  fp:find [x -> x = 2] [1 2 1 2] => 2
  fp:find [ s -> first s = "t" ] ["hi" "there" "everyone"] => "there"

FPZip
  extensions [fp]
  fp:zip [1 2] [4 5] => [[1 4] [2 5]]
  fp:zip [1 2 3] [4 5 6] => [[1 4] [2 5] [3 6]]
  fp:zip [1 2] [3 4] [5 6] => [[1 3 5] [2 4 6]]
  fp:zip [1 2 3 4] [5 6 7 8] [9 10 11 12] => [[1 5 9] [2 6 10] [3 7 11] [4 8 12]]
  fp:zip [1 2 3 4] [5 6] [9 10 11 12] => [[1 5 9] [2 6 10]]
  fp:zip [1 2 3 4 5] ["a" "b" "c"] => [[1 "a"] [2 "b"] [3 "c"]]

FPUnzip
  extensions [fp]
  fp:unzip [[1 4] [2 5]] => [[1 2] [4 5]]
  fp:unzip [[1 4] [2 5] [3 6]] => [[1 2 3] [4 5 6]]
  fp:unzip [[1 3 5] [2 4 6]] => [[1 2] [3 4] [5 6]]
  fp:unzip [[1 5 9] [2 6 10] [3 7 11] [4 8 12]] => [[1 2 3 4] [5 6 7 8] [9 10 11 12]]
  fp:unzip [[1 "a"] [2 "b"] [3 "c"] [4]] => [[1 2 3 4] ["a" "b" "c"]]
  fp:unzip [[11 12 13] [21 22 23] [31 32] [41]] => [[11 21 31 41] [12 22 32] [13 23]]
  fp:unzip [[1 2 3 4]] => [[1 2 3 4]]
  #fp:unzip [1 2 3 4] => [1 2 3 4]

FPFlatten
  extensions [fp]
  fp:flatten [[1 2 3][4 5]] => [1 2 3 4 5]
  fp:flatten [[[1 [2] 3]][[4 [5]] [6]]] => [1 2 3 4 5 6]
  